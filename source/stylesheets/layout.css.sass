@import 'compass'
@import 'config'
@import 'remfont'
@import 'verticalalign'

div.wrap
  height: 100%
  width: 100%

header
  +flexbox
  +align-items(center)
  border-bottom: 1px solid transparent
  +box-sizing(border-box)
  font-family: $text-font
  font-weight: 600
  height: 88px
  padding: 0 $marginSize
  position: fixed
  width: 100%
  z-index: 999

  a
    +flexbox
    +align-items(center)
    color: #{"{{ theme.welcome_text_color }}"}
    position: relative

    &:after
      background: transparent
      bottom: 0
      content: " "
      height: 1px
      position: absolute
      width: 100%

    &:hover, &:focus
      color: #{"{{ theme.welcome_text_color }}"}

      @media screen and (min-width: $breakpoint-small + 1)
        &:after
          background: #{"{{ theme.welcome_text_color }}"}

      svg
        fill: #{"{{ theme.welcome_text_color }}"}

  svg
    fill: #{"{{ theme.welcome_text_color }}"}

  @media screen and (max-width: $breakpoint-small)
    padding: 0 $marginSize / 2
    position: relative

    &.home.has_featured
      position: absolute

  &.overlay, &.page
    background-color: #{"{{ theme.header_color }}"}
    border-bottom: 1px solid #{"{{ theme.border_color }}"}

    a
      color: #{"{{ theme.header_link_color }}"}

      &:hover, &:focus
        color: #{"{{ theme.header_link_hover }}"}

        @media screen and (min-width: $breakpoint-small + 1)
          &:after
            background: #{"{{ theme.header_link_hover }}"}

        svg
          fill: #{"{{ theme.header_link_hover }}"}

    svg
      fill: #{"{{ theme.header_link_color }}"}

  .logo
    +box-sizing(border-box)
    +font-size(24)
    font-family: $header-font
    text-align: left
    z-index: 98
    width: 25%

    @media only screen and (max-width:$breakpoint-small)
      +font-size(18)
      line-height: 25px
      width: 50%

    a
      max-width: 208px

      &:after
        content: none !important

    &.image
      img
        display: block
        max-height: 100%
        max-width: 100%

      a
        height: 66px

  .sections
    +flexbox
    +align-items(center)
    +justify-content(center)
    padding: 0 $marginSize
    position: relative
    width: 50%
    z-index: 97

    .navigation
      +flexbox
      +align-items(center)
      list-style: none
      margin: 0
      padding: 0

      li
        display: block
        margin: 0 16px

        a
          padding: 4px 0
          text-align: center

    @media only screen and (max-width:$breakpoint-small)
      display: none

  .utility
    +flexbox
    +justify-content(flex-end)
    position: relative
    white-space: nowrap
    width: 25%
    z-index: 99

    ul
      +flexbox
      +align-items(center)
      list-style: none

      li
        margin-left: $marginSize

        @media screen and (max-width: $breakpoint-small)
          margin-left: $marginSize / 1.5

        &:last-child
          display: none

          @media screen and (max-width: $breakpoint-small)
            display: block

        a
          padding: 4px 0

        &.cart
          .desktop
            margin-left: 4px

            @media screen and (max-width: $breakpoint-small)
              display: none

          svg
            margin-right: 5px

    @media only screen and (max-width:$breakpoint-small)
      width: 50%

.nav_trigger svg
  height: 22px
  width: 22px

.mobile_nav
  +box-sizing(border-box)
  background-color: rgba(black, .95)
  display: none
  height: 100%
  left: 0
  list-style: none
  margin: 0
  overflow: auto
  padding: 15%
  position: fixed
  text-align: center
  top: 0
  width: 100%
  z-index: 10001

  &.open
    display: block

  a
    color: #FFF

    &:hover
      opacity: .6

  .close_nav
    line-height: 22px
    position: fixed
    right: 15px
    top: 36px

    path
      fill: #FFF

      &:hover
        opacity: .6

  ul
    list-style-type: none
    margin: 0
    padding: 0

  li
    height: auto
    line-height: 30px
    margin-left: 0

    a
      display: block
      padding: 15px 0

.slideshow
  display: block
  height: 100%
  margin: 0
  overflow: hidden
  padding: 0
  position: relative
  width: 100%
  z-index: 1

  @media only screen and (max-width: $breakpoint-small)
    height: 100vh

  div.featured_holder
    background-color: rgba(black, .3)
    +background(url('#{"{{ 'overlay_pattern.png' | theme_image_url }}"}'))
    background-repeat: repeat
    background-size: 4px
    height: 100%
    position: absolute
    top: 0
    width: 100%
    z-index: 100

  div.featured
    +vertical-align
    color: #{"{{ theme.welcome_text_color }}"}
    overflow: hidden
    position: absolute
    text-align: center
    z-index: 2
    width: 100%

    p
      +font-size(14,20)
      font-weight: 600
      line-height: 18px
      padding: 20px 16px 0px
      text-transform: uppercase

      @media only screen and (max-width:$breakpoint-small)
        line-height: 1.75rem

    h2
      +font-size(64)
      letter-spacing: .25em
      margin: 0 0 24px 0
      text-transform: uppercase

      @media only screen and (max-width:$breakpoint-small)
        font-size: 9vw
        letter-spacing: 0
        line-height: 3.5rem
        padding: 0 16px
        text-indent: 0
        white-space: normal

    a
      border: 1px solid #{"{{ theme.welcome_text_color }}"}
      color: #{"{{ theme.welcome_text_color }}"}
      width: auto
      line-height: 56px

      &:hover, &:focus
        border: 1px solid #{"{{ theme.link_hover }}"}
        background-color: #{"{{ theme.link_hover }}"}
        color: #{"{{ theme.welcome_text_color }}"}
        opacity: 1

  ul
    display: block
    height: 100%
    margin: 0
    padding: 0
    position: relative
    width: 100%

    li
      background-size: cover
      background-position: 50% 50%
      background-repeat: no-repeat
      display: inline-block
      height: 100%
      list-style: none
      position: relative
      width: 100%

      img
        -webkit-backface-visibility: hidden

#home
  .content
    padding: 144px 0 0 0

    @media only screen and (max-width:$breakpoint-small)
      padding-top: 32px
      padding-bottom: $marginSize

  .slideshow + .content
    padding-top: 64px

  h1
    margin-bottom: #{"{% if theme.featured_subheader == blank %} 48px {% else %} 16px {% endif %}"}

.content
  +pie-clearfix
  display: block
  margin: 0 auto
  padding-top: 144px
  position: relative
  width: 100%

  @media only screen and (max-width:$breakpoint-small)
    padding-bottom: $marginSize
    padding-top: $marginSize

  h1
    color: #{"{{ theme.text_color }}"}
    display: block
    margin: 0 auto
    text-align: center

  .subheader
    padding: 0 $marginSize $marginSize $marginSize
    margin: $marginSize auto 0 auto

    @media only screen and (max-width:$breakpoint-small)
      margin: $marginSize/2 auto 0 auto

    p
      text-align: center
      max-width: 800px
      margin: 0 auto

  .social_links
    +box-sizing(border-box)
    +font-size(16)
    line-height: normal
    list-style: none
    margin: 0 auto $marginSize auto
    max-width: 800px
    padding: 0
    text-align: center
    width: 100%

    li
      +box-sizing(border-box)
      border: 1px solid #{"{{ theme.border_color }}"}
      border-width: 1px 0 1px 1px
      display: inline-block
      height: 56px
      line-height: normal
      margin: 0
      padding: 0
      width: 56px

      &:last-child
        border-width: 1px

      &:hover
        background-color: #{"{{ theme.link_hover }}"}
        border-color: #{"{{ theme.link_hover }}"}

      a
        display: block
        width: 56px
        height: 56px
        line-height: normal

        svg
          cursor: pointer
          fill: #{"{{ theme.link_color }}"}
          height: 16px
          position: relative
          +vertical-align
          width: 16px

      &:hover svg
        fill: #{"{{ theme.background_color }}"}

footer
  +flexbox
  +align-items(center)
  +flex-direction(row)
  +box-sizing(border-box)
  +font-size(15)
  +flex-wrap(wrap)
  border-top: 1px solid #{"{{ theme.border_color }}"}
  position: relative
  padding: $marginSize $marginSize $marginSize * 2

  @media screen and (max-width: $breakpoint-small)
    +flex-direction(column)
    +justify-content(center)
    padding: 0

  ul
    list-style: none
    margin: 0
    padding: 0

  cite
    margin-right: $marginSize
    order: 1

    @media screen and (max-width: $breakpoint-small)
      margin: $marginSize 0
      order: 3

    a
      +hide-text
      background: url(#{'{{ "bc_badge.svg" | theme_image_url }}'}) no-repeat
      border: none
      display: block
      height: 24px
      width: 80px
      margin: 0 auto

  .social_footer
    +flexbox
    +flex-direction(row)
    order: 2

    @media screen and (max-width: $breakpoint-small)
      +justify-content(center)
      border-bottom: 1px solid #{"{{ theme.border_color }}"}
      order: 2
      width: 100%

    li
      margin-right: $marginSize / 3

      @media screen and (max-width: $breakpoint-small)
        margin: 0 $marginSize / 2
        padding: $marginSize / 2 0
    a
      display: block
      padding: 4px

      &:hover, &:focus
        svg
          fill: #{"{{ theme.link_hover }}"}

    svg
      display: block
      fill: #{"{{ theme.link_color }}"}
      height: 20px
      width: 20px

  .footernav
    order: 3
    margin-left: auto
    white-space: nowrap
    max-width: 60%
    width: 100%

    @media screen and (max-width: $breakpoint-small)
      border-bottom: 1px solid #{"{{ theme.border_color }}"}
      order: 1
      margin: 0
      text-align: center
      max-width: 100%

    ul
      +flexbox
      +flex-direction(row)
      +justify-content(flex-end)
      +flex-wrap(wrap)

      @media screen and (max-width: $breakpoint-small)
        +flex-direction(column)
        +justify-content(center)

      li
        margin-bottom: $marginSize / 3
        margin-left: $marginSize

        @media screen and (max-width: $breakpoint-small)
          border-bottom: 1px solid #{"{{ theme.border_color }}"}
          margin: 0

          &:last-child
            border: 0

        a
          display: block
          padding: 2px

          &:hover, &:focus
            text-decoration: underline

          @media screen and (max-width: $breakpoint-small)
            padding: $marginSize / 3

.blur-up
  +transition(filter .2s ease)
  filter: blur(5px)

  &.lazyloaded
    filter: blur(0)
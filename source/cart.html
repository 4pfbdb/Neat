<section class="content">
  {% if errors != blank %}
    <ul class="errors">
      {% for error in errors %}
        <li>{% if forloop.length != 1 %}&bull; {% endif %}{{ error }}</li>
      {% endfor %}
    </ul>
  {% endif %}

<!--   <ul class="errors">
    <li>This is an error!</li>
  </ul>
 -->
  <h1>Subtotal</h1>
  <h4>{{ cart.subtotal | money_with_sign }}</h4>

  {% if cart.items != blank %}

  <form method="post" action="/cart">
    <ul class="cart_details">
      {% for item in cart.items %}
      <li>
        <a href="{{ item.product.url }}" class="product_image">
          <img src="{{ item.product.image | product_image_url size:"medium" }}">
        </a>
        <div class="product_details">
          <a href="{{ item.product.url }}">
            {{ item.product.name }}
            {% unless item.product.has_default_option %}
              <em>{{ item.option.name }}</em>
            {% endunless %}
          </a>
        </div>
        <div class="product_actions">
          <div class="quantity">{{ item | item_quantity_input }}</div>
          <div class="price">{{ item.price | money_with_sign }}</div>
          <div class="remove"><a href="#" class="remove">&times;</a></div>
        </div>
      </li>
      {% endfor %}
    </ul>

    <button type="submit" name="checkout" title="Checkout">Checkout</button>
  </form>

  {% else %}

  <div>
    <p><strong>Your cart is empty!</strong> Sounds like a good time to <a href="/">start shopping &rarr;</a></p>
  </div>

  {% endif %}

</section>
